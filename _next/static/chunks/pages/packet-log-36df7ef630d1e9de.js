(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[267],{358:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/packet-log",function(){return n(7197)}])},7197:function(e,t,n){"use strict";n.r(t);var o=n(8584),l=n(7557),r=n(2760),a=n(4071),i=n(84),d=n(4401),c=n(7215),s=n(7614),g=n(536),m=n(882),h=n.n(m),p=n(5093),C=n(3399),u=n(9823);let w={[c.AdbCommand.Auth]:"AUTH",[c.AdbCommand.Close]:"CLSE",[c.AdbCommand.Connect]:"CNXN",[c.AdbCommand.OK]:"OKAY",[c.AdbCommand.Open]:"OPEN",[c.AdbCommand.Write]:"WRTE"},x=new class{get empty(){return!C.d.logs.length}get commandBarItems(){return[{key:"clear",disabled:this.empty,iconProps:{iconName:u.PJ.Delete},text:"Clear",onClick:(0,s.aD)(()=>C.d.clearLog())},{key:"select-all",disabled:this.empty,iconProps:{iconName:u.PJ.Wand},text:"Select All",onClick:(0,s.aD)(()=>{this.selection.clear(),this.selection.select(C.d.logs.length-1,!1,!0)})},{key:"copy",disabled:0===this.selection.size,iconProps:{iconName:u.PJ.Copy},text:"Copy",onClick:()=>{let e="";for(let t of this.selection){let n=C.d.logs[t];e+="".concat(n.timestamp.toISOString(),"	").concat("in"===n.direction?"IN":"OUT","	").concat(w[n.command],"	").concat(n.arg0.toString(16).padStart(8,"0"),"	").concat(n.arg1.toString(16).padStart(8,"0"),"	").concat(Array.from(n.payload).map(e=>e.toString(16).padStart(2,"0")).join(" "),"\n")}navigator.clipboard.writeText(e)}}]}constructor(){this.selection=new p.x$,(0,s.ky)(this,{}),(0,s.EH)(()=>{0===C.d.logs.length&&(0,s.z)(()=>this.selection.clear())})}},S=(0,a.Z)({grow:{height:0},grid:{height:"100%"},header:{textAlign:"center",lineHeight:"".concat(32,"px")},row:{"&:hover":{backgroundColor:"#f3f2f1"}},selected:{backgroundColor:"#edebe9"},code:{fontFamily:"monospace",textOverflow:"ellipsis",whiteSpace:"nowrap",lineHeight:"32px",cursor:"default",...i.q5.overflow("hidden")},hexViewer:{...i.q5.padding("12px"),...i.q5.borderTop("1px","solid","rgb(243, 242, 241)")}}),f=[{title:"Direction",width:100,CellComponent:(0,u.$g)("Direction")(e=>{let{className:t,rowIndex:n,...l}=e,r=C.d.logs[n],a=S();return(0,o.jsx)("div",{className:(0,d.z)(t,a.code),...l,children:r.direction})})},{title:"Command",width:100,CellComponent:(0,u.$g)("Command")(e=>{let{className:t,rowIndex:n,...l}=e,r=C.d.logs[n];if(!r.commandString){var a;r.commandString=null!==(a=w[r.command])&&void 0!==a?a:(0,c.decodeUtf8)(new Uint32Array([r.command]))}let i=S();return(0,o.jsx)("div",{className:(0,d.z)(t,i.code),...l,children:r.commandString})})},{title:"Arg0",width:100,CellComponent:(0,u.$g)("Command")(e=>{let{className:t,rowIndex:n,...l}=e,r=C.d.logs[n];r.arg0String||(r.arg0String=r.arg0.toString(16).padStart(8,"0"));let a=S();return(0,o.jsx)("div",{className:(0,d.z)(t,a.code),...l,children:r.arg0String})})},{title:"Arg1",width:100,CellComponent:(0,u.$g)("Command")(e=>{let{className:t,rowIndex:n,...l}=e,r=C.d.logs[n];r.arg1String||(r.arg1String=r.arg1.toString(16).padStart(8,"0"));let a=S();return(0,o.jsx)("div",{className:(0,d.z)(t,a.code),...l,children:r.arg1String})})},{title:"Payload",width:200,flexGrow:1,CellComponent:(0,u.$g)("Command")(e=>{let{className:t,rowIndex:n,...l}=e,r=C.d.logs[n];r.payloadString||(r.payloadString=(0,p.lr)(r.payload.subarray(0,100)));let a=S();return(0,o.jsx)("div",{className:(0,d.z)(t,a.code),...l,children:r.payloadString})})}],y=(0,u.$g)("Header")(e=>{let{className:t,columnIndex:n,...l}=e,r=S();return(0,o.jsx)("div",{className:(0,d.z)(t,r.header),...l,children:f[n].title})}),N=(0,g.Pi)(function(e){let{className:t,rowIndex:n,...l}=e,r=S(),a=(0,u.R9)(e=>{(0,s.z)(()=>{e.shiftKey&&e.preventDefault(),x.selection.select(n,(0,p.O4)(e),e.shiftKey)})});return(0,o.jsx)("div",{className:(0,d.z)(t,r.row,x.selection.has(n)&&r.selected),onPointerDown:a,...l})}),b=()=>{let e=S();return(0,o.jsxs)(l.K,{...u.LE,tokens:{},children:[(0,o.jsx)(h(),{children:(0,o.jsx)("title",{children:"Packet Log - Tango"})}),(0,o.jsx)(p.X3,{items:x.commandBarItems}),(0,o.jsx)(r.v,{className:e.grow,grow:!0,children:(0,o.jsx)(p.rj,{className:e.grid,rowCount:C.d.logs.length,rowHeight:32,columns:f,HeaderComponent:y,RowComponent:N})}),null!==x.selection.selectedIndex&&C.d.logs[x.selection.selectedIndex].payload.length>0&&(0,o.jsx)(r.v,{className:e.grow,grow:!0,children:(0,o.jsx)(p.Kb,{className:e.hexViewer,data:C.d.logs[x.selection.selectedIndex].payload})})]})};t.default=(0,g.Pi)(b)}},function(e){e.O(0,[774,888,179],function(){return e(e.s=358)}),_N_E=e.O()}]);
//# sourceMappingURL=packet-log-36df7ef630d1e9de.js.map